<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ear Training</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
</head>
<body>
  <header>
    <h1>Perfect Pitch Training</h1>
    <p>Listen to the played sample, then identify the chroma by clicking a button or playing the matching note on your MIDI keyboard.</p>
  </header>

  <main>
    <section class="status">
      <div class="status-row">
        <div id="midi-status" class="pill muted">MIDI: detecting…</div>
      </div>
    </section>

    <section class="controls" aria-label="Chromas">
      <div class="controls-row">
        <label for="chroma-set-select">Chroma set</label>
        <select id="chroma-set-select"></select>
      </div>
      <div class="controls-row">
        <label for="answer-set-select">Answer set</label>
        <select id="answer-set-select"></select>
      </div>
      <div class="controls-row">
        <label for="drone-count-select">Drones</label>
        <select id="drone-count-select"></select>
        <button type="button" id="drone-reset-button" class="secondary-button">Reset drones</button>
      </div>
      <div class="controls-row custom-row" id="custom-chroma-row">
        <button type="button" id="custom-chroma-button" class="secondary-button">Custom chroma set</button>
      </div>
      <div class="controls-row toggle-row">
        <label class="checkbox-label">
          <input type="checkbox" id="reduced-range-toggle">
          <div class="label">Reduced range (removes the top and bottom 12 notes)</div>
        </label>
      </div>
      <!--
      <div class="controls-row toggle-row">
        <label class="checkbox-label">
          <input type="checkbox" id="randomize-buttons-toggle">
          <div class="label">Randomize answer button order</div>
        </label>
      </div>
      -->
      <div class="controls-row toggle-row">
        <label class="checkbox-label">
          <input type="checkbox" id="feedback-toggle">
          <div class="label">Limited feedback</div>
        </label>
      </div>
      <div class="replay-row" id="replay-row">
        <button type="button" id="replay-button" class="chroma replay-button" disabled>
          Replay
        </button>
      </div>
      <div id="custom-chroma-picker" class="custom-chroma-picker" hidden>
        <p class="muted small">Select the chromas you want to enable.</p>
        <div id="custom-chroma-buttons" class="buttons custom-chroma-buttons"></div>
      </div>
      <div id="chroma-buttons" class="buttons"></div>
    </section>

    <section class="stats" aria-label="Session stats">
      <div class="stats-row">
        <button
          type="button"
          id="stats-button"
          class="stats-toggle"
          aria-expanded="false"
          aria-controls="stats-output"
        >
          <span class="chevron" aria-hidden="true">‹</span>
          <span class="label">Stats</span>
        </button>
        <div id="stats-output" class="stats-output" aria-live="polite"></div>
      </div>
    </section>
  </main>

  <script type="module" src="script.js"></script>
</body>
</html>
